# ุชุญุฏูุซ ุฌุฏูู checkins ูุฅุถุงูุฉ ุฌููุน ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ

## ๐ฏ **ุงููุฏู:**
ุฅุถุงูุฉ ุฌููุน ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ ูุฌุฏูู `checkins` ุงูููุฌูุฏ ูุญูุธ ุจูุงูุงุช ุงููููุน ุงูุชูุตูููุฉ

## โ **ุงูุฎุทูุงุช ุงููุทููุจุฉ:**

### **1. ุชุดุบูู ููู SQL:**
```sql
-- ูู Supabase SQL Editor
-- ุงูุณุฎ ูุญุชูู: supabase/update_checkins_table.sql
-- ุงุถุบุท Run
```

### **2. ุงูุชุธุงุฑ ุฑุณุงุฆู ุงูุชุฃููุฏ:**
ุณุชุธูุฑ ุฑุณุงุฆู ูุซู:
- "ุชู ุฅุถุงูุฉ ุนููุฏ notes"
- "ุชู ุฅุถุงูุฉ ุนููุฏ country"
- "ุชู ุฅุถุงูุฉ ุนููุฏ city"
- "ุชู ุฅุถุงูุฉ ุนููุฏ district"
- "ุชู ุฅุถุงูุฉ ุนููุฏ street"
- "ุชู ุฅุถุงูุฉ ุนููุฏ full_address"
- "ุชู ุฅุถุงูุฉ ุนููุฏ location_details (JSONB)"

## ๐ **ุงูุฃุนูุฏุฉ ุงูุชู ุณูุชู ุฅุถุงูุชูุง:**

#### **ุฃุนูุฏุฉ ุจูุงูุงุช ุงููููุน:**
- **`notes`** - ููุงุญุธุงุช ูุตูุฉ (TEXT)
- **`country`** - ุงูุฏููุฉ (TEXT)
- **`city`** - ุงููุฏููุฉ (TEXT)
- **`district`** - ุงูุญู (TEXT)
- **`street`** - ุงุณู ุงูุดุงุฑุน (TEXT)
- **`full_address`** - ุงูุนููุงู ุงููุงูู (TEXT)
- **`latitude`** - ุฎุท ุงูุนุฑุถ (TEXT)
- **`longitude`** - ุฎุท ุงูุทูู (TEXT)

#### **ุฃุนูุฏุฉ ุฅุถุงููุฉ:**
- **`created_at`** - ุชุงุฑูุฎ ุงูุฅูุดุงุก (TIMESTAMP)
- **`updated_at`** - ุชุงุฑูุฎ ุงูุชุญุฏูุซ (TIMESTAMP)
- **`status`** - ุญุงูุฉ ุงูุชุณุฌูู (TEXT, default: 'active')
- **`location_details`** - ุจูุงูุงุช ุงููููุน ูู JSON (JSONB)

#### **ุฃุนูุฏุฉ ููุฌูุฏุฉ ุจุงููุนู:**
- **`id`** - ุงููุนุฑู ุงููุฑูุฏ
- **`serial`** - ุงูุฑูู ุงูุชุณูุณูู
- **`driver_id`** - ูุนุฑู ุงูุณุงุฆู
- **`timestamp`** - ุงูููุช
- **`lat`** - ุฎุท ุงูุนุฑุถ (ุฃุณุงุณู)
- **`lon`** - ุฎุท ุงูุทูู (ุฃุณุงุณู)
- **`before_path`** - ูุณุงุฑ ุงูุตูุฑุฉ ูุจู
- **`after_path`** - ูุณุงุฑ ุงูุตูุฑุฉ ุจุนุฏ

## ๐ง **ูุง ุณูุญุฏุซ ุจุนุฏ ุงูุชูููุฐ:**

#### **1. ูููู ุงูุฌุฏูู ุงููุญุฏุซ:**
```sql
checkins {
  id (SERIAL PRIMARY KEY)
  serial (TEXT)
  driver_id (TEXT)
  timestamp (TEXT)
  lat (TEXT)
  lon (TEXT)
  before_path (TEXT)
  after_path (TEXT)
  notes (TEXT) โ ุฌุฏูุฏ
  country (TEXT) โ ุฌุฏูุฏ
  city (TEXT) โ ุฌุฏูุฏ
  district (TEXT) โ ุฌุฏูุฏ
  street (TEXT) โ ุฌุฏูุฏ
  full_address (TEXT) โ ุฌุฏูุฏ
  latitude (TEXT) โ ุฌุฏูุฏ
  longitude (TEXT) โ ุฌุฏูุฏ
  location_details (JSONB) โ ุฌุฏูุฏ
  status (TEXT) โ ุฌุฏูุฏ
  created_at (TIMESTAMP) โ ุฌุฏูุฏ
  updated_at (TIMESTAMP) โ ุฌุฏูุฏ
}
```

#### **2. ููุงุฑุณ ููุจุญุซ ุงูุณุฑูุน:**
- ููุฑุณ ุนูู `driver_id`
- ููุฑุณ ุนูู `created_at`
- ููุฑุณ ุนูู `status`

## ๐ **ุจุนุฏ ุงูุชูููุฐ:**

### **1. ุงุฎุชุจุงุฑ ุงูุญูุธ:**
- ุงูุชูุท ุตูุฑ ูุจู ูุจุนุฏ
- ุงุถุบุท ุญูุธ ุงูุชุณุฌูู
- ุชุญูู ูู Console ููุฑุณุงุฆู

### **2. ุฑุณุงุฆู Console ุงููุชููุนุฉ:**
```
ุชู ุงูุญูุธ ุจูุฌุงุญ ูู ุฌุฏูู checkins ูุน ุฌููุน ุงูุฃุนูุฏุฉ
ุจูุงูุงุช ุงููููุน ุงููุญููุธุฉ: ุงูุนููุงู: Saudi Arabia, Eastern Province, Hafar Al Batin, ุงููุฏููุฉ: Hafar Al Batin, ุงูุฏููุฉ: Saudi Arabia
ุจูุงูุงุช JSON: {latitude: 28.399226, longitude: 45.974155, country: Saudi Arabia, city: Hafar Al Batin}
```

### **3. ุงูุชุญูู ูู ุงูุจูุงูุงุช:**
- ุงุฐูุจ ุฅูู **Table Editor** ูู Supabase
- ุงุฎุชุฑ ุฌุฏูู **checkins**
- ุชุญูู ูู ุขุฎุฑ ุงูุชุณุฌููุงุช
- ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุงูุฃุนูุฏุฉ

## ๐ **ูุซุงู ุนูู ุงูุจูุงูุงุช ุงููุญููุธุฉ:**

#### **ูุน ุฌููุน ุงูุฃุนูุฏุฉ:**
```json
{
  "id": 1,
  "serial": 1,
  "driver_id": "ahmed",
  "timestamp": "2024-01-15T10:30:00",
  "lat": "28.399226",
  "lon": "45.974155",
  "before_path": "https://.../before_ahmed_123.jpg",
  "after_path": "https://.../after_ahmed_123.jpg",
  "notes": "ุงูุนููุงู: Saudi Arabia, Eastern Province, Hafar Al Batin, ุงููุฏููุฉ: Hafar Al Batin, ุงูุฏููุฉ: Saudi Arabia",
  "country": "Saudi Arabia",
  "city": "Hafar Al Batin",
  "district": "Hafar Al Batin",
  "street": "Hafar Al Batin 39913",
  "full_address": "Saudi Arabia, Eastern Province, Hafar Al Batin, Hafar Al Batin 39913",
  "latitude": "28.399226",
  "longitude": "45.974155",
  "location_details": {
    "latitude": "28.399226",
    "longitude": "45.974155",
    "country": "Saudi Arabia",
    "city": "Hafar Al Batin",
    "district": "Hafar Al Batin",
    "street": "Hafar Al Batin 39913",
    "full_address": "Saudi Arabia, Eastern Province, Hafar Al Batin, Hafar Al Batin 39913"
  },
  "status": "active",
  "created_at": "2024-01-15T10:30:00Z",
  "updated_at": "2024-01-15T10:30:00Z"
}
```

## โ๏ธ **ููุงุญุธุงุช ูููุฉ:**

1. **ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ** ุณุชููู ูุงุฑุบุฉ (`NULL`) ููุจูุงูุงุช ุงููุฏููุฉ
2. **ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ** ุณุชูุญูุธ ูู ุฌููุน ุงูุฃุนูุฏุฉ ุงููุชุงุญุฉ
3. **ุงูุชูุงูู** ูุน ุงููุธุงู ุงูุญุงูู ูุญููุธ
4. **ุงูููุงุฑุณ** ุณุชุณุงุนุฏ ูู ุงูุจุญุซ ุงูุณุฑูุน

## ๐ **ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:**

#### **ุฅุฐุง ูุดู ุฅุถุงูุฉ ุงูุฃุนูุฏุฉ:**
1. ุชุญูู ูู **ุตูุงุญูุงุช ุงููุณุชุฎุฏู** ูู Supabase
2. ุชุฃูุฏ ูู **ุงุณู ุงูุฌุฏูู** ุงูุตุญูุญ
3. ุฑุงุฌุน **ุฑุณุงุฆู ุงูุฎุทุฃ** ูู SQL Editor
4. ุชุญูู ูู **ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช**

#### **ุฅุฐุง ูู ุชุธูุฑ ุงูุจูุงูุงุช:**
1. ุชุญูู ูู **Console** ููุฑุณุงุฆู
2. ุชุฃูุฏ ูู **ุชูููุฐ SQL** ุจูุฌุงุญ
3. ุฑุงุฌุน **ูููู ุงูุฌุฏูู** ูู Table Editor
4. ุฌุฑุจ **ุฅุนุงุฏุฉ ุชุดุบูู** ุงูุชุทุจูู

## ๐ฏ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

### **1. ุชูููุฐ SQL:**
ูู ุจุชุดุบูู `update_checkins_table.sql` ูู Supabase

### **2. ุงุฎุชุจุงุฑ ุงูุชุทุจูู:**
ุฌุฑุจ ุญูุธ ุชุณุฌูู ุฌุฏูุฏ ูุน ุงูุตูุฑ

### **3. ูุฑุงูุจุฉ ุงููุชุงุฆุฌ:**
ุชุญูู ูู Console ูุงูุจูุงูุงุช ุงููุญููุธุฉ

### **4. ุงูุชุญูู ุงูููุงุฆู:**
ุชุฃูุฏ ูู ุญูุธ ุฌููุน ุจูุงูุงุช ุงููููุน

---

**ููู SQL:** `supabase/update_checkins_table.sql`

**ุจุนุฏ ุงูุชูููุฐ ุณุชุชููู ูู ุญูุธ ุฌููุน ุจูุงูุงุช ุงููููุน ุงูุชูุตูููุฉ!** ๐บ๏ธโจ
