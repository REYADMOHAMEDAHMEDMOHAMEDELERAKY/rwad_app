# ุชุญุฏูุซ ุชุฎุฒูู ุงูุตูุฑ - ุงุณุชุฎุฏุงู bucket checkins

## ๐ฏ **ูุง ุชู ุชุนุฏููู:**

### **1. ุชุบููุฑ bucket ุงูุชุฎุฒูู:**
- **ูุจู:** `driver-photos` 
- **ุจุนุฏ:** `checkins`

### **2. ุงููููุงุช ุงููุนุฏูุฉ:**
- โ **`lib/screens/driver_page.dart`** - ุฏุงูุฉ `_onSave()`
- โ **`lib/screens/checkin_details_page.dart`** - ูุณุชุฎุฏู `checkins` ุจุงููุนู

## ๐ง **ุงูุชุบููุฑุงุช ุงููุทุจูุฉ:**

### **ูู `driver_page.dart`:**

#### **1. ุฑูุน ุงูุตูุฑ:**
```dart
// ูุจู (ูุฏูู)
await client.storage.from('driver-photos').upload(beforeKey, beforeFile);
await client.storage.from('driver-photos').upload(afterKey, afterFile);

// ุจุนุฏ (ุฌุฏูุฏ)
await client.storage.from('checkins').upload(beforeKey, beforeFile);
await client.storage.from('checkins').upload(afterKey, afterFile);
```

#### **2. ุงูุญุตูู ุนูู ุฑูุงุจุท ุงูุชุญููู:**
```dart
// ูุจู (ูุฏูู)
final beforeUrl = client.storage.from('driver-photos').getPublicUrl(beforeKey);
final afterUrl = client.storage.from('driver-photos').getPublicUrl(afterKey);

// ุจุนุฏ (ุฌุฏูุฏ)
final beforeUrl = client.storage.from('checkins').getPublicUrl(beforeKey);
final afterUrl = client.storage.from('checkins').getPublicUrl(afterKey);
```

## ๐ฑ **ููููุฉ ุนูู ุงููุธุงู ุงูุขู:**

### **1. ุนูุฏ ุงูุชูุงุท ุงูุตูุฑ:**
1. **ุงูุณุงุฆู** ููุชูุท ุตูุฑ ูุจู ูุจุนุฏ
2. **ุงูุตูุฑ ุชูุฑูุน** ุฅูู bucket `checkins`
3. **ุงููุณุงุฑุงุช ุชูุญูุธ** ูู ุฌุฏูู `checkins`
4. **ุงูุจูุงูุงุช ุชูุญูุธ** ูุน ุฌููุน ุงูุชูุงุตูู

### **2. ุนูุฏ ุนุฑุถ ุงูุตูุฑ:**
1. **ุงููุฏูุฑ** ููุชุญ ุตูุญุฉ ุชูุงุตูู ุงูุณุฌู
2. **ุงูุชุทุจูู** ููุฑุฃ ุงููุณุงุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **ุงูุตูุฑ ุชูุญูู** ูู bucket `checkins`
4. **ุงูุตูุฑ ุชูุนุฑุถ** ุจูุฌุงุญ

## ๐ฏ **ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ:**

### **1. ุชูุญูุฏ ุงูุชุฎุฒูู:**
- โ **ุตูุญุฉ ูุงุญุฏุฉ:** ุฌููุน ุงูุตูุฑ ูู `checkins`
- โ **ุณูููุฉ ุงูุฅุฏุงุฑุฉ:** bucket ูุงุญุฏ ุจุฏูุงู ูู ุงุซููู
- โ **ุชูุงุณู ุงูุจูุงูุงุช:** ููุณ bucket ููุฑูุน ูุงูุชุญููู

### **2. ุชุญุณูู ุงูุฃุฏุงุก:**
- โ **ุชูููู ุงูุทูุจุงุช:** bucket ูุงุญุฏ
- โ **ุฅุฏุงุฑุฉ ุฃูุถู:** ูููุงุช ููุธูุฉ
- โ **ุตูุงูุฉ ุฃุณูู:** ุฅุนุฏุงุฏุงุช ูุงุญุฏุฉ

### **3. ุฃูุงู ูุญุณู:**
- โ **RLS policies:** ูุงุญุฏุฉ ูุฌููุน ุงูุตูุฑ
- โ **ุตูุงุญูุงุช ููุญุฏุฉ:** ููุณ ุงูููุงุนุฏ
- โ **ูุฑุงูุจุฉ ุฃูุถู:** ูุดุงุท ูุงุญุฏ

## ๐ **ูุญุต ุงูุชุทุจูู:**

### **1. ุงุฎุชุจุงุฑ ุฑูุน ุงูุตูุฑ:**
- **ุงูุชุญ** ุชุทุจูู ุงูุณุงุฆู
- **ุงูุชูุท** ุตูุฑ ูุจู ูุจุนุฏ
- **ุงุถุบุท** ุญูุธ
- **ุชุฃูุฏ ูู** ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก

### **2. ุงุฎุชุจุงุฑ ุนุฑุถ ุงูุตูุฑ:**
- **ุงูุชุญ** ุตูุญุฉ ุชูุงุตูู ุงูุณุฌู
- **ุงุถุบุท** "ูุญุต ุงูุชุฎุฒูู"
- **ุชุฃูุฏ ูู** ุธููุฑ bucket `checkins`
- **ุงุถุบุท** "ุฅุนุงุฏุฉ ุงููุญุงููุฉ"
- **ุชุฃูุฏ ูู** ุธููุฑ ุงูุตูุฑ

### **3. ูุญุต Console:**
```bash
# ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู:
ุชู ุฑูุน ุงูุตูุฑุฉ ุฅูู bucket checkins
ุชู ุงูุญูุธ ุจูุฌุงุญ ูู ุฌุฏูู checkins
Buckets ุงููุชุงุญุฉ: [checkins]
ูููุงุช ูู bucket checkins: [before_...jpg, after_...jpg]
```

## โ๏ธ **ููุงุญุธุงุช ูููุฉ:**

### **1. ูุชุทูุจุงุช bucket:**
- **ูุฌุจ ุฃู ูููู** bucket `checkins` ููุฌูุฏ
- **ูุฌุจ ุฃู ูููู** public = true
- **ูุฌุจ ุฃู ุชููู** RLS policies ููุนูุฉ

### **2. ูุชุทูุจุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- **ูุฌุจ ุฃู ูููู** ุฌุฏูู `checkins` ููุฌูุฏ
- **ูุฌุจ ุฃู ุชููู** ุงูุฃุนูุฏุฉ ูุชุงุญุฉ
- **ูุฌุจ ุฃู ุชููู** ุงูุจูุงูุงุช ูุชุณูุฉ

### **3. ูุชุทูุจุงุช ุงูุชุทุจูู:**
- **ูุฌุจ ุฃู ูููู** Supabase config ุตุญูุญ
- **ูุฌุจ ุฃู ูููู** ุงูุงุชุตุงู ูุณุชูุฑ
- **ูุฌุจ ุฃู ุชููู** ุงูุตูุงุญูุงุช ุตุญูุญุฉ

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

### **1. ุฅูุดุงุก bucket (ุฅุฐุง ูู ููู ููุฌูุฏ):**
```
Supabase Dashboard โ Storage โ New Bucket
Name: checkins
Public: โ
File size limit: 50 MB
```

### **2. ุฅูุดุงุก RLS policies:**
```sql
CREATE POLICY "Allow public read access to checkins bucket" 
ON storage.objects FOR SELECT 
USING (bucket_id = 'checkins');

CREATE POLICY "Allow public upload to checkins bucket" 
ON storage.objects FOR INSERT 
WITH CHECK (bucket_id = 'checkins');
```

### **3. ุงุฎุชุจุงุฑ ุงูุชุทุจูู:**
- **ุงุฎุชุจุฑ** ุฑูุน ุงูุตูุฑ
- **ุงุฎุชุจุฑ** ุนุฑุถ ุงูุตูุฑ
- **ุงุฎุชุจุฑ** ูุญุต ุงูุชุฎุฒูู

## ๐ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

### **ูุจู ุงูุชุญุฏูุซ:**
```
โ ุงูุตูุฑ ูู bucket driver-photos
โ ุฎุทุฃ ูู ุชุญููู ุงูุตูุฑ
โ ุนุฏู ุชุทุงุจู ุจูู ุงูุฑูุน ูุงูุชุญููู
```

### **ุจุนุฏ ุงูุชุญุฏูุซ:**
```
โ ุงูุตูุฑ ูู bucket checkins
โ ุชุญููู ุงูุตูุฑ ุจูุฌุงุญ
โ ุชุทุงุจู ูุงูู ุจูู ุงูุฑูุน ูุงูุชุญููู
โ ุฅุฏุงุฑุฉ ููุญุฏุฉ ููุตูุฑ
```

## ๐ **ุฅุฐุง ูุงุฌูุช ูุดุงูู:**

### **1. "Bucket not found":**
- **ุชุฃูุฏ ูู** ูุฌูุฏ bucket `checkins`
- **ุชุฃูุฏ ูู** ุตุญุฉ ุงูุงุณู

### **2. "Permission denied":**
- **ุชุฃูุฏ ูู** RLS policies
- **ุชุฃูุฏ ูู** public = true

### **3. "File not found":**
- **ุชุฃูุฏ ูู** ุฑูุน ุงูุตูุฑ
- **ุชุฃูุฏ ูู** ุตุญุฉ ุงููุณุงุฑุงุช

---

**ุงูุขู ุฌููุน ุงูุตูุฑ ุชูุญูุธ ูุชูุญูู ูู bucket ูุงุญุฏ!** ๐ฏ

**ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:**
- โ **ุชุฎุฒูู ููุญุฏ** - bucket `checkins` ูุงุญุฏ
- โ **ุฅุฏุงุฑุฉ ูุญุณูุฉ** - ูููุงุช ููุธูุฉ
- โ **ุฃุฏุงุก ุฃูุถู** - ุทูุจุงุช ุฃูู
- โ **ุฃูุงู ูุญุณู** - policies ููุญุฏุฉ

**ูู ุชุฑูุฏ ููู ูุณุงุนุฏุชู ูู ุงุฎุชุจุงุฑ ุงูุชุทุจููุ** ๐ค
